= âœˆï¸ Airline Loyalty Assistant - Spring AI Demo
:toc: auto
:toc-placement: preamble
:icons: font
:source-highlighter: highlight.js

image:https://img.shields.io/badge/Spring%20Boot-3.5.0-brightgreen.svg[Spring Boot]
image:https://img.shields.io/badge/Spring%20AI-1.0.0-blue.svg[Spring AI]
image:https://img.shields.io/badge/Java-21-orange.svg[Java]
image:https://img.shields.io/badge/License-MIT-yellow.svg[License: MIT]

A modern AI-powered airline loyalty assistant built with Spring AI 1.0.0, demonstrating conversational AI capabilities for travel and loyalty program assistance.

== ğŸš€ Features

* **AI-Powered Chat**: Intelligent responses using OpenAI GPT-4o-mini
* **Airline Expertise**: Specialized knowledge of loyalty programs (Delta SkyMiles, United MileagePlus)
* **RAG Implementation**: Retrieval-Augmented Generation for accurate loyalty program information
* **RAG Testing Interface**: Dedicated page for testing knowledge base queries
* **Modern UI**: Responsive web interface with real-time chat
* **Spring AI Integration**: Latest Spring AI 1.0.0 stable release
* **Production Ready**: Built with Spring Boot best practices

== ğŸ—ï¸ Architecture

* **Backend**: Spring Boot 3.5.0 with Spring AI
* **Frontend**: Static HTML/CSS/JavaScript (no frameworks)
* **AI Model**: OpenAI GPT-4o-mini via Spring AI
* **Build**: Gradle with Kotlin DSL
* **Java**: Version 21

== ğŸ“‹ Prerequisites

* Java 21+
* Gradle 8.5+ (or use included wrapper)
* OpenAI API Key

== âš¡ Quick Start

=== 1. Clone and Setup

[source,bash]
----
git clone <repository-url>
cd airlines-assistant-spring-ai
----

=== 2. Configure Environment

[source,bash]
----
# Copy environment template
cp .env.template .env

# Edit .env and add your OpenAI API key
OPENAI_API_KEY=your-openai-api-key-here
----

=== 3. Run the Application

[source,bash]
----
# Using Makefile (recommended)
make run

# If you encounter memory issues, use the memory-optimized run command
make run-with-memory

# Or using Gradle directly
./gradlew bootRun

# Or with increased memory settings
JAVA_OPTS="-Xmx512m -Xms256m" ./gradlew bootRun
----

NOTE: If you encounter `OutOfMemoryError` issues, see the link:docs/memory-optimization.md[Memory Optimization Guide] for details.

=== 4. Access the Application

Open your browser and navigate to: http://localhost:9080

==== Main Chat Interface
The main page provides a chat interface where you can ask questions about airline loyalty programs. The AI will use RAG to enhance its responses with information from the knowledge base.

==== RAG Testing Interface
To directly test the RAG functionality, navigate to: http://localhost:9080/rag-tester.html

This interface allows you to:
- Query the knowledge base directly
- See the raw documents that match your query
- View the formatted context that would be sent to the AI
- Adjust the number of results returned

== ğŸ”§ Development Commands

The project includes a colorful Makefile with emoji indicators:

[source,bash]
----
make help           # ğŸ“‹ Show available commands
make build          # ğŸ”¨ Build the application
make test           # ğŸ§ª Run tests
make run            # ğŸš€ Run the application
make run-with-memory # ğŸš€ Run with increased memory settings
make dev-run        # ğŸ”§ Run with hot reload
make env-check      # ğŸ” Check environment setup
make clean          # ğŸ§¹ Clean build artifacts
----

== ğŸ›ï¸ Project Structure

[source]
----
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/com/airline/assistant/
â”‚   â”‚   â”œâ”€â”€ AirlineAssistantApplication.java
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ AirlineAssistantConfig.java
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”‚   â”œâ”€â”€ AirlineAssistantController.java
â”‚   â”‚   â”‚   â””â”€â”€ KnowledgeBaseController.java
â”‚   â”‚   â”œâ”€â”€ rag/
â”‚   â”‚   â”‚   â”œâ”€â”€ AirlineDocument.java
â”‚   â”‚   â”‚   â””â”€â”€ SimpleVectorStore.java
â”‚   â”‚   â””â”€â”€ service/
â”‚   â”‚       â”œâ”€â”€ AirlineAssistantService.java
â”‚   â”‚       â””â”€â”€ KnowledgeBaseService.java
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ knowledge-base/
â”‚       â”‚   â”œâ”€â”€ delta-skymiles.md
â”‚       â”‚   â”œâ”€â”€ united-mileageplus.md
â”‚       â”‚   â””â”€â”€ README.md
â”‚       â”œâ”€â”€ static/
â”‚       â”‚   â”œâ”€â”€ index.html
â”‚       â”‚   â”œâ”€â”€ rag-tester.html
â”‚       â”‚   â”œâ”€â”€ styles.css
â”‚       â”‚   â”œâ”€â”€ rag-tester.css
â”‚       â”‚   â”œâ”€â”€ app.js
â”‚       â”‚   â””â”€â”€ rag-tester.js
â”‚       â””â”€â”€ application.yml
â””â”€â”€ test/
    â””â”€â”€ java/com/airline/assistant/
        â”œâ”€â”€ AirlineAssistantApplicationTests.java
        â””â”€â”€ service/
            â”œâ”€â”€ AirlineAssistantServiceTest.java
            â””â”€â”€ KnowledgeBaseServiceTest.java
----

== ğŸ”Œ API Endpoints

[cols="1,2,3"]
|===
|Method |Endpoint |Description

|POST
|`/api/v1/chat`
|Send chat message and receive AI response

|DELETE
|`/api/v1/chat/memory`
|Clear conversation memory

|POST
|`/api/v1/knowledge/query`
|Query the knowledge base directly

|GET
|`/api/v1/knowledge/info`
|Get information about the knowledge base

|GET
|`/api/v1/health`
|Health check endpoint

|GET
|`/`
|Serve main chat interface

|GET
|`/rag-tester.html`
|Serve RAG testing interface
|===

== ğŸ§ª Testing

[source,bash]
----
# Run all tests
make test

# Run with coverage (future enhancement)
./gradlew test jacocoTestReport
----

== ğŸš¢ Deployment

The application is containerized and can be deployed using:

* Docker (configuration in future phases)
* Cloud platforms (AWS, GCP, Azure)
* Traditional application servers

== ğŸ—ºï¸ Development Roadmap

=== Phase 1: Foundation âœ…
* Basic chat functionality
* OpenAI integration
* Static frontend

=== Phase 2: Memory âœ…
* Conversation history
* Session management
* Context preservation

=== Phase 3: RAG âœ…
* Knowledge base integration
* Document retrieval
* Enhanced responses

=== Phase 4: Tools (Planned)
* Function calling
* External API integration
* Advanced capabilities

=== Phase 5: Local Models (Planned)
* Ollama integration
* Local embedding models
* Offline capabilities

== ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests
5. Submit a pull request

== ğŸ“„ License

This project is licensed under the MIT License - see the link:LICENSE[LICENSE] file for details.

== ğŸ™ Acknowledgments

* Spring AI Team for the excellent framework
* OpenAI for the powerful language models
* Spring Boot community for the solid foundation

== ğŸ“ Support

For questions or issues:

* Create an issue in this repository
* Check the Spring AI documentation
* Review the implementation plan in `docs/plan.md`
